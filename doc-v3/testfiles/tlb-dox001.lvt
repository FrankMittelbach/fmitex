% \iffalse
% Test file dox stuff
%
\documentclass{article}
\usepackage{doc}
\CodelineIndex
\RecordChanges

% Input the test macros for latex 2e
\input{regression-test}


\begin{document}

% Everything before this is ignored by the test system.

\immediate\closeout\csname @indexfile\endcsname
\immediate\closeout\csname @glossaryfile\endcsname

\START

\DeclareDocItem[idxgroup=]           {Option}{option}
\DeclareDocItem[macrolike]{Length}{length}

\DeclareDocItem           {Env}{environment}  % redeclare no frills

\DescribeOption{foo} This describes option foo

\begin{option}{foo}
  \changes{v1}{2018/01/02}{first change}
   This is an option environment for ``foo''
   foo = bar
\end{option}

\DescribeLength\mylength the description for \verb=\mylength=.

\MakePercentIgnore

\begin{length}{\mylength}
  \changes{v2}{2018-01-02}{Fixing \cs{mylength} thoroughly}
   Something about \verb=\mylength= with a lone of code.
%    \begin{macrocode}
\mylength=1cm
%    \end{macrocode}
\end{length}

\DescribeEnv{myoption} The description for ``myoption''.

\begin{environment}{myenvironment}
  \changes{v3}{2018/02/17}{Third change}
  Describing \texttt{myenvironment}
\end{environment}

\begin{macro}{\@mymacro}
  \changes{v2.2}{2015/05/18}{new}
  A macro definition
\end{macro}


\end{document}
